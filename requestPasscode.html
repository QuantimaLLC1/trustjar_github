<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<meta name="description" content="">
	<meta name="author" content="">
	<title>Welcome to trustjar</title>
	<!-- Bootstrap core CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<!-- Custom styles for this template -->
	<link href="css/login_pages.css" rel="stylesheet">
</head>

<body>

<!-- *************************************** MODAL SECTION ********************************************* -->

	<!--Overlay to disable controls. Includes spinny wheel. -->
	<div class='modal fade' id='disableControlsOverlay' role='dialog' data-keyboard="false" data-backdrop="static">
		<div class='spinnyWheel'><img src="images/loadinfo.net.gif" alt="Processing request. Please don't refresh the page."><br>
		Processing request.<br>Please don't refresh the page.
		</div>
	</div>

	<!-- 'Technical Difficulties' element. This comes up automatically if the server takes too long to respond to a client request. -->
	<div id="technicalDifficulties" class="techDifficulties hidden">We appear to be having trouble reaching you. If you're on a mobile device, check that your data service is working properly. If the problem continues, please close your browser and try again. </div>
	<div id="landingWrapper"></div>

	<!-- Footer overlay. When a footer link is clicked, the overlay is dynamically populated with relevant header and body content and displayed. -->
	<div class='modal fade' id='footerOverlay' role='dialog'>
		<div class='modal-dialog'>
			<div class='modal-content'>
				<div class='modal-header' id='footerHeader'>
					<button type='button' class='close' data-dismiss='modal'>&times;</button>
					<h4 class='modal-title'></h4>
				</div>
				<div class='modal-body' id='modalBody'>
				</div>
			</div>
		</div>
	</div>

<!-- *************************************** SPLASH SCREEN ********************************************* -->
	<!-- Splash screen element. This appears on page load. -->
	<div id="splash" class="splashDiv">
		<div id="splashBackground"></div><!-- Animal image is placed here --> 
		<div id="darkmask"></div><!-- Provides a dark overlay for the logotype and the animals --> 
	 	<div id="splashLogotype" class="splashLogotype" onClick="animateLogotype()"><!-- Animated logo element --> 
			<span id="t">T</span><span id="r">R</span><span id="u">U</span><span id="s">S</span><span id="t2">T</span><span id="j">J</span><span id="a">A</span><span id="r2">R</span>
		</div>
	</div>

<!-- *************************************** START PAGE LAYOUT *********************************************** -->
<div class="container"><!-- Bootstrap container to manage page width across different sizes -->

<!-- *************************************** PAGE HEADER *********************************************** -->
	<div class="header">
		<div class="row">
			<div class="col-md-12">
				<div id="loginForm" class="pull-right">
					<form class='navbar-form navbar-right' action='' onsubmit='return headerSubmitLogin();' data-ajax='false'>
						<div class='form-group'>
							<input type='text' id='loginId' placeholder='Email / mobile' class='form-control' required>  
							<div class="input-group">
								<input id='loginPasscode' type='password' placeholder='passcode' class='form-control' required>
								<div id="loginShowHide" class="showHide input-group-addon">show</div>
							</div>
							<button id='loginBtn' type='submit' class='btn btn-success'>sign in</button>
							<br />
							<a href='#' id="requestPasscodeLink" class="pull-right">request passcode</a>
						 </div>
					</form>
				</div>
				<div id="leftHeader">
					<div class="floatLeft">
						<div>
							<span id="headerLogoLink" class="headerAlign logotype goHome">TRUS<span id="tj" class="TJ">TJ</span>AR</span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

<!-- *********************************** REQUESTPASSCODE PAGE BODY **************************************** -->
	<div class="pageTemplate row" id="requestPasscode">
		<div class="col-md-2">   
		</div>
		<div class="col-md-8"> 
			<h3>Passcode assistance</h3>
			<p>Enter an email address or mobile number that's already associated with your existing trustjar account. If it's part of a confirmed account, we'll send a new passcode to that contact channel.</p><br />
			<div class="well">
				<form action="" onsubmit="return requestPasscodeSubmit()" data-ajax="false"><!--   Request form: create a new relationshop-->
					<label id="forgotContactLabel" for="requestPasscodeUserContact">Email or mobile number</label>
					<div class="row">
						<div class="col-md-8">   
							<input type="text" class="form-control" id="requestPasscodeUserContact" required>
						</div>
						<div class="col-md-4">   
							<button id="requestPasscodeSubmitBtn" type="submit" class="btn btn-primary">request passcode</button>  
						</div>
					</div> <!-- End row -->
				</form>
			</div>
			<div class="col-md-2">     
			</div> 
		</div> <!-- End row -->
	</div>

<!-- ***************************** REQUESTPASSCODECONFIRMATION PAGE BODY **************************************** -->

	<div class="pageTemplate row" id="requestPasscodeConfirmation">
		<div class="col-md-1">   
		</div> 
		<div class="col-md-10">
			<h3>Passcode request confirmed.</h3>
			<p>If the contact channel you entered is in our system, a message will be sent to that contact channel with the new passcode. </p>
		</div>
		<div class="col-md-1">     
		</div> 
	</div>

<!-- ********************************************* FOOTER ************************************************** -->
	<footer class="footer row">
		<div class="col-md-3">
			<img id="footerAnimals" alt="animals">
		</div>
		<div id="footerCopy" class='col-md-9 footerText'>
			<span>
				<a href='#' id='helpFooterLink' class="faqLink">faq</a>&nbsp;&nbsp;/&nbsp;
				<a href='#' id='privacyFooterLink' class="privacyLink">privacy</a>&nbsp;&nbsp;/&nbsp;
				<a href='#' id='termsFooterLink' class="termsLink">terms</a>&nbsp;&nbsp;/&nbsp;
				<a href='#' id='contactFooterLink' class="contactLink">contact</a>&nbsp;&nbsp;&nbsp;
			</span>
				<span id="copyright" class="copyrightCopy">Â© Quantima 2015. All rights reserved.</span><p><br /></p>
		</div>
	</footer>

<!-- *********************************** END PAGE LAYOUT ********************************************** -->
</div> <!-- /container -->

<!-- *********************************** SCRIPT LIBRARIES ********************************************** -->

	<!-- jQuery library ================================================== -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.3/jquery.min.js"></script>
	<script>
		if (!window.jQuery) {
			document.write("<script src='js/jquery-2.2.3.min.js'><\/script>");
		}
	</script>
	<script src="https://cdn.firebase.com/js/client/2.4.2/firebase.js"></script>
	<!-- Bootstrap core JavaScript ================================================== -->
	<script src="js/bootstrap.min.js"></script>
	<script src="js/trustjar.js"></script><!-- All the javascript and jQuery code specifically written for this application -->
	<script src="js/ie10-viewport-bug-workaround.js"></script><!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->

	<script> // Trustjar-related scripts specific to this page
		// User submits 'request passcode' form from the requestPasscode page. Returns the request with the specified contact to Firebase.
			$('#requestPasscodeSubmitBtn').on('click', function() {
				GLOB.clientRef.push( {  
					"msgType" : "requestPasscodeForm",
					"userContact" : $('#requestPasscodeUserContact').val()
				}); 
				// Disable user controls
				disableControls ();
				return false; // We don't want the link to trigger a page load. We want the server to control that to maintain state consistency.
			});
	</script>
	<!-- 	<script type="text/javascript" src="../js/unitTests.js"></script> Code containing the unit test --> 

<!-- *********************************** SERVER ALERT SECTION **************************************** -->
	<!-- These are generated so the system can communicate critical events to the user. It's a simplified form of the Bootstrap modal dialog. -->
	<div id="serverAlertContainer" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<button type="button" class="close" data-dismiss="modal">&times;</button>
					<h4 class="modal-title">Server alert!</h4>
				</div>
				<div id="serverAlertContent" class="modal-body alertContent"><!-- THe actual alert copy will appear here -->
				</div>
			</div>
		</div>
	</div>


</body>
</html>